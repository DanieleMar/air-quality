(this["webpackJsonpair-quality"]=this["webpackJsonpair-quality"]||[]).push([[0],{26:function(e,t,n){},28:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),i=n(20),s=n.n(i),o=(n(26),n(3)),u=n.n(o),l=n(6),b=n(4),j=(n.p,n(28),Object({NODE_ENV:"production",PUBLIC_URL:"/air-quality",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GET_APP_KEY,"8611e0d9-dd2d-4a04-bc9b-444f4ee2c4a2"),d=n(7),p=n.n(d),h=(p.a.create({method:"GET",baseURL:"https://api.airvisual.com/v2/",redirect:"follow",headers:{"Access-Control-Allow-Origin":"*","access-control-allow-headers":"Origin, X-Requested-With, Content-Type, Accept",common:{"Content-Type":"application/json"}}}),function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var a,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a="",c={},e.t0=t,e.next="regions"===e.t0?6:"list-cities"===e.t0?9:"specific-city"===e.t0?12:15;break;case 6:return a="/states",c={country:"Italy",key:j},e.abrupt("break",16);case 9:return a="/cities",c={state:n,country:"Italy",key:j},e.abrupt("break",16);case 12:return a="/city",c={city:r,state:n,country:"Italy",key:j},e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:return e.next=18,p()({method:"GET",baseURL:"https://api.airvisual.com/v2/",url:a,params:c,redirect:"follow"});case 18:return i=e.sent,e.next=21,i.data;case 21:return s=e.sent,e.abrupt("return",s.data);case 25:e.prev=25,e.t1=e.catch(0),console.log("Errore");case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,n,r){return e.apply(this,arguments)}}());function O(e){var t=e.element,n=e.openRegion,a=e.len,c=e.num;return Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsx)("span",{onClick:n,children:t})," ",c<a-1&&Object(r.jsx)("span",{children:"\u2666"})]})}var v=n(9);var f=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),s=Object(b.a)(i,2),o=s[0],j=s[1],d=Object(a.useState)({}),p=Object(b.a)(d,2),f=p[0],x=p[1],m=Object(a.useState)(!1),y=Object(b.a)(m,2),g=y[0],k=y[1],S=Object(a.useState)("Nessuna"),w=Object(b.a)(S,2),T=w[0],C=w[1],E=Object(a.useState)(!1),R=Object(b.a)(E,2),_=R[0],P=R[1],A=Object(a.useState)(""),F=Object(b.a)(A,2),q=F[0],I=F[1],D=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t,n,r);case 2:void 0!==(a=e.sent)&&("regions"===t?(k(!0),c(a)):"list-cities"===t?(k(!1),C(n),P(!1),j(a),c([])):"specific-city"===t&&(x(a.current),I(r),j([]),P(!0)));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n,r);case 2:return a=e.sent,e.next=5,a;case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsxs)("header",{children:[" ",Object(r.jsx)("h1",{children:"Air Quality"})," ",Object(r.jsx)("h2",{children:"Scopri la qualit\xe0 dell'aria per molte citt\xe0 italiane"})," "]}),Object(r.jsx)("section",{children:Object(r.jsxs)("section",{children:[Object(r.jsx)(v.a,{variant:"primary",onClick:function(){return D("regions")},children:"Select a Region"})," "]})}),!g&&!_&&Object(r.jsxs)("div",{children:[" Regione selezionata: ",T," "]}),!g&&_&&void 0!==f&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:q}),Object(r.jsxs)("div",{children:["Qualit\xe0 dell'aria: ",f.pollution.aqius," U.S. AQI "]}),Object(r.jsxs)("div",{children:["Giudizio: ",function(e){var t="";switch(!0){case e<=50:t="Buona";break;case e>50&&e<=100:t="Moderata";break;case e>100&&e<=150:t="Buona";break;case e>150&&e<=200:t="Dannosa";break;case e>200&&e<=300:t="Pericolosa";break;case e>300&&e<=500:t="Molto pericolosa";break;default:t=""}return t}(f.pollution.aqius)]}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{children:["Temperatura: ",f.weather.tp," \xb0C"]}),Object(r.jsxs)("div",{children:["Pressione atmosferica: ",f.weather.pr," hPa"]}),Object(r.jsxs)("div",{children:["Umidit\xe0: ",f.weather.hu," %"]}),Object(r.jsxs)("div",{children:["Velocit\xe0 del vento: ",f.weather.ws," (m/s)"]})]}),!g&&void 0!==o&&o.length>0&&o.map((function(e,t){return Object(r.jsx)(O,{num:t,element:e.city,openRegion:function(){return D("specific-city",T,e.city)},len:o.length},t)})),g&&void 0!==n&&n.length>0&&n.map((function(e,t){return Object(r.jsx)(O,{num:t,element:e.state,openRegion:function(){return D("list-cities",e.state)},len:n.length},t)}))]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(46);s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(f,{})}),document.getElementById("root")),x()}},[[47,1,2]]]);
//# sourceMappingURL=main.6efe63cc.chunk.js.map